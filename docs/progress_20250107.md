# 2025-01-07 작업 기록

- `build_org_tables.py` UI/로직 대규모 개편
  - People(딜 있음/딜 없음) 세트 분리, 각 세트에 Deal + People 메모(상) + Deal 메모(하) 스택 배치.
  - 상단 회사 메모 컨테이너: 메모 없으면 낮은 높이, 메모 있으면 중·하단 컨테이너 대비 절반 높이로 확장.
  - 기업 규모 필터 드롭다운 추가(기본: 대기업) → 회사 리스트 필터 후 조직 선택 드롭다운 갱신.
  - 금액 억 단위(소수 2자리), 날짜 YYYY-MM-DD 포맷 적용.
  - 듀얼 상태(stateWith/stateWithout) 관리로 두 세트 독립 동작, 선택 초기화 시 모두 리셋.
- 데이터 매핑 강화
  - 조직 데이터에 `기업 규모` 포함, org 옵션에 size 추가.
  - 조직 필터: people·deal 모두 없는 조직 제외 유지.
- 문서 추가/정리
  - `docs/org_tables_usage.md` 신설: org_tables.html 생성/사용법, 레이아웃, 동작 설명.
- 검증
  - `python3 -m unittest discover -s tests` (14/14 통과)
  - `python3 build_org_tables.py --output org_tables.html` 로 최신 HTML 생성 확인.

- org_tables API 연동/UX 보강 (유저/팀)
  - 헤더에 API Base/토큰 입력 + 새로고침 버튼 추가, 상태 배지로 로딩/에러 표시.
  - `/v2/user`, `/v2/team` 병렬 호출 + 백오프, 유저/팀 표 렌더(팀 구성원은 유저 이름과 매핑).
  - 기업 규모 드롭다운 실제 필터 적용(대기업 기본, 없을 때 전체로 폴백).
  - 회사 메모 카드 높이 자동 조절(has-memos), 회사 선택 없을 때 힌트 노출.
  - CLI/env 옵션 추가: `--api-base-url`, `--api-token`(`API_BASE_URL`, `API_TOKEN`).
  - 유닛 테스트 추가: API config HTML 임베드 검증.
